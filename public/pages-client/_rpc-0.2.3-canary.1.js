(()=>{function B(G){let K=document.querySelectorAll("[data-action]");for(let X of K){X.removeAttribute("data-action");let k=X.dataset;for(let[Z,j]of Object.entries(k)){let L=Z.toLowerCase(),V=L.replace("action","").replace("on",""),p=X.tagName==="FORM"&&V==="submit",_=+(X.getAttribute("debounce"+V)??0),F;if(L.startsWith("action"))X.addEventListener(V,(...U)=>{if(U[0]instanceof Event)U[0].preventDefault();clearTimeout(F);let O=()=>G(j,p,X.getAttribute("indicate"+V),k,...U);if(_)F=setTimeout(O,_);else O()})}}}var{stringify:D,parse:u}=JSON;function q(G){let H=G?.args?.[0];if(H instanceof Event)G.args[0]=u(D(H,(J,K)=>{let X=(Z)=>K instanceof Z,k=X(Node);if(X(Event)||k&&J.match(/target/i)){let Z={};for(let j in K)Z[j]=K[j];if(X(CustomEvent))Z._wc=!0;return Z}if(K!=null&&K!==""&&!k&&!X(Window))return K}));return D(G)}var z="indicator",P="brisa-request",x=document,Y=window,C="POST",h=Promise,M=new AbortController,T=0,b=(G,H)=>{let J=Y._s?[..._s.Map]:Y._S??[];if(H){let K=new FormData(G[0].target);return K.append("x-s",q(J)),K}return q({"x-s":J,args:G})};function y(){return Y._rpc?h.resolve():new h((G)=>{let H=x.createElement("script"),J=W(x.head,"basepath")??"";H.onload=H.onerror=G,H.src=J+"/_brisa/pages/_rpc-lazy-0.2.3-canary.1.js",x.head.appendChild(H)})}async function Q(G,H=!1,J,K,...X){let k="e"+J,Z=[],j=Y._s,L=y();if(J){for(let V of I(`[${z}]`))if(W(V,z)?.includes(J))V.classList.add(P),Z.push(V),j?.set(J,!0)}try{let V=await fetch(location.toString(),{method:C,signal:E(),headers:{"x-action":G,"x-actions":K.actions??""},body:b(X,H)});if(!V.ok)j?.set(k,await V.text());await L,await Y._rpc(V,K,X),B(Q)}catch(V){j?.set(k,V.message)}finally{for(let V of Z)V.classList.remove(P);j?.set(J,!1)}}function R(G){let H=Y._xm??W(N(),"rendermode"),J=H!=="native";if(J&&G.destination.url===location.href)Y.scrollTo(0,0),G.preventDefault();if(Y._xm=null,J&&!G.hashChange&&G.downloadRequest===null&&G.canIntercept&&G.navigationType!=="replace")G.intercept({async handler(){let K=await fetch(G.destination.url,{method:C,signal:E(),body:b()});await y(),await Y._rpc(K,null,H),Y.scrollTo(0,0),B(Q)}})}function N(G=x.activeElement){return G?.shadowRoot?N(G.shadowRoot.activeElement):G}function W(G,H){return G?.getAttribute(H)}function E(){return M.abort(),M=new AbortController,M.signal}function I(G){return x.querySelectorAll(G)}function f(){if(B(Q),!T)requestAnimationFrame(f)}f();if("navigation"in Y)Y.navigation.addEventListener("navigate",R);x.addEventListener("DOMContentLoaded",()=>{T=1,B(Q)});
})()